# DeepResearch AI 前端界面

基于 Streamlit 构建的 DeepResearch AI 研究助手前端界面。

## 功能特性

- 🎨 **现代化UI设计**: 仿照主流AI对话工具的界面设计
- 💬 **实时对话**: 支持与AI研究助手进行自然对话
- 🔄 **流式输出**: 实时显示研究进展，支持Markdown渲染
- 📊 **研究统计**: 显示对话轮次和研究会话统计
- ⚙️ **灵活配置**: 可调整最大研究步骤数
- 📝 **历史记录**: 保存对话历史和研究结果
- 🧹 **一键清除**: 快速清除对话历史

## 界面组成

### 主要区域
- **对话历史**: 显示用户问题和AI回复
- **输入区域**: 输入研究问题的文本框
- **研究进展**: 实时显示研究过程

### 侧边栏
- **研究配置**: 调整最大研究步骤数
- **清除历史**: 一键清除所有对话记录
- **使用说明**: 详细的使用指南
- **研究统计**: 显示使用统计信息

## 快速开始

### 1. 安装依赖

```bash
pip install streamlit>=1.28.0 markdown>=3.4.0
```

### 2. 启动应用

#### 方法一：使用启动脚本（推荐）
```bash
python src/frontend/run.py
```

#### 方法二：直接使用Streamlit
```bash
streamlit run src/frontend/app.py
```

### 3. 访问应用

应用启动后会自动在浏览器中打开，默认地址：
```
http://localhost:8501
```

## 使用方法

1. **输入研究问题**: 在底部文本框中输入您想要研究的问题
2. **开始研究**: 点击"🚀 开始研究"按钮或按Enter键
3. **查看进展**: 实时查看研究进展，包括信息收集和批判性分析
4. **查看结果**: 研究完成后查看完整的分析结果
5. **继续对话**: 可以基于结果继续提问或开始新的研究

## 技术特性

### 流式输出
- 支持实时显示研究进展
- 自动Markdown渲染
- 响应式界面更新

### 多智能体协作展示
- 清晰区分研究智能体和批判智能体的输出
- 步骤化显示研究过程
- 可视化协作流程

### 会话管理
- 自动保存对话历史
- 支持多轮对话
- 研究上下文保持

## 自定义配置

### 样式定制
可以通过修改 `app.py` 中的CSS样式来自定义界面外观：

```python
st.markdown("""
<style>
    /* 在这里添加自定义CSS */
</style>
""", unsafe_allow_html=True)
```

### 功能扩展
- 添加更多配置选项
- 集成更多可视化组件
- 支持文件上传和下载

## 故障排除

### 常见问题

1. **模块导入错误**
   - 确保项目路径正确添加到 `sys.path`
   - 检查DeepResearch模块是否正确安装

2. **异步执行问题**
   - 应用已处理Streamlit的异步限制
   - 如遇问题，请检查事件循环设置

3. **界面显示问题**
   - 清除浏览器缓存
   - 重启Streamlit应用

### 调试模式

启动时添加调试参数：
```bash
streamlit run src/frontend/app.py --logger.level=debug
```

## 开发说明

### 项目结构
```
src/frontend/
├── app.py          # 主应用文件
├── run.py          # 启动脚本
└── README.md       # 说明文档
```

### 核心组件
- `initialize_session_state()`: 初始化会话状态
- `display_message()`: 消息显示组件
- `run_research_sync()`: 同步研究执行器
- `main()`: 主应用逻辑

## 贡献指南

欢迎提交Issue和Pull Request来改进这个前端界面！

## 许可证

与主项目保持一致的许可证。